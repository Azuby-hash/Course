A51 MACRO ASSEMBLER  TIMER3                                                               11/20/2009 00:50:12 PAGE     1


MACRO ASSEMBLER A51 V7.10
OBJECT MODULE PLACED IN Timer3.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE Timer3.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     
  00CB                 2     RCAP2H  EQU     0CBH            ; sfr address ¼ CBH      
  00CA                 3     RCAP2L  EQU     0CAH            ; sfr address ¼ CAH      
  00A8                 4     IEN1    EQU     0A8H            ;       ser     address ¼ E8H    
  00C8                 5     T2CON   EQU     0C8H            ; sfr address ¼ C8H      
0000                   6             ORG     0               ;       reset   address          
0000 803E              7             SJMP    START           ; jump  over    reserved        area     
002B                   8             ORG     2BH             ; Timer2 interrupt address       
002B 8023              9             SJMP    TASK            ; jump  to      interrupt task   
0040                  10             ORG     40H             ; program       start   address          
0040 75CBB7           11     START:  MOV     RCAP2H,#0B7H     ; B7H into RCAP2H       
0043 75CAFF           12             MOV     RCAP2L,#0FFH    ; FFH into RCAP2L        
0046 D2AF             13             SETB    EA              ; enable all interrupts          
0048 43A820           14             ORL     IEN1,#20H       ; enable Timer2(ET2) interrupt   
004B 43C804           15             ORL     T2CON,#04H      ;       turn    Timer2  on       
004E 80FE             16     AGAIN:  SJMP    AGAIN           ; stay here till interrupt       
0050 B297             17     TASK:   CPL     P1.7            ; toggle P1.7    
0052 53C87F           18             ANL     T2CON,#7FH      ; clear Timer2 flag(TF2)         
0055 32               19             RETI                    ;       return  from interrupt   
                      20             END                     ; end of assembly language       
A51 MACRO ASSEMBLER  TIMER3                                                               11/20/2009 00:50:12 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AGAIN. . . . . . .  C ADDR   004EH   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
IEN1 . . . . . . .  N NUMB   00A8H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
RCAP2H . . . . . .  N NUMB   00CBH   A   
RCAP2L . . . . . .  N NUMB   00CAH   A   
START. . . . . . .  C ADDR   0040H   A   
T2CON. . . . . . .  N NUMB   00C8H   A   
TASK . . . . . . .  C ADDR   0050H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
